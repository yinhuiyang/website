!function a(l,o,d){function r(t,e){if(!o[t]){if(!l[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var s=o[t]={exports:{}};l[t][0].call(s.exports,function(e){return r(l[t][1][e]||e)},s,s.exports,a,l,o,d)}return o[t].exports}for(var c="function"==typeof require&&require,e=0;e<d.length;e++)r(d[e]);return r}({1:[function(require,module,exports){"use strict";module.exports.getlist=function(e){var t=require("./tool.js"),i={};return t.POST("task/bug/queryList.do",e,function(e){i=e},!0),i},module.exports.queryVersionList=function(e){var t=require("./tool.js"),i={};return t.POST("core/service/task_need/queryVersionList",e,function(e){i=e},!0),i},module.exports.getUserList=function(e){var t=require("./tool.js"),i={};return t.POST("task/alltask/getUserList.do",e,function(e){i=e},!0),i},module.exports.queryOne=function(e){var t=require("./tool.js"),i={};return t.POST("core/service/bug/queryOne",e,function(e){i=e},!0),i},module.exports.getBugStatusList=function(e){var t=require("./tool.js"),i={};return t.POST("task/bug/getBugStatusList.do",e,function(e){i=e}),i},module.exports.getBugLevelList=function(e){var t=require("./tool.js"),i={};return t.POST("task/bug/getBugLevelList.do",e,function(e){i=e}),i},module.exports.getQualityLevel=function(e){var t=require("./tool.js"),i={};return t.POST("core/service/task_dic/queryList?type=0",e,function(e){i=e}),i},module.exports.getPriorityLevel=function(e){var t=require("./tool.js"),i={};return t.POST("core/service/task_dic/queryList?type=1",e,function(e){i=e}),i},module.exports.getBugSourceList=function(e){var t=require("./tool.js"),i={};return t.POST("task/bug/getBugSourceList.do",e,function(e){i=e}),i},module.exports.bugDelete=function(e){var t=require("./tool.js"),i={};return t.POST("core/service/bug/delete",e,function(e){i=e},!0),i},module.exports.bugEditSave=function(e){var t=require("./tool.js"),i={};return t.POST("task/bug/bugEditSave.do",e,function(e){i=e},!0),i},module.exports.bugAddSave=function(e){var t=require("./tool.js"),i={};return t.POST("task/bug/bugAddSave.do",e,function(e){i=e},!0),i},module.exports.insertOrUpdate=function(e){var t=require("./tool.js"),i={};return t.POST("core/service/bug_process/insertOrUpdate",e,function(e){i=e},!0),i},module.exports.assistQueryOne=function(e){var t=require("./tool.js"),i={};return t.POST("core/service/bug_process/queryOne",e,function(e){i=e},!0),i},module.exports.assistQueryList=function(e){var t=require("./tool.js"),i={};return t.POST("core/service/bug_process/queryList",e,function(e){i=e},!0),i},module.exports.assistDelete=function(e){var t=require("./tool.js"),i={};return t.POST("core/service/bug_process/delete",e,function(e){i=e},!0),i}},{"./tool.js":14}],2:[function(require,module,exports){"use strict";module.exports=function(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=require("./api.js"),a=e.insertOrUpdate,t=e.assistDelete,l=require("./assistList.js"),i=$('\n  <div class="defect-dialog">\n    <div class="defect-content">\n      <div class="defect-title">\n        <span>填写协助</span>\n        <div style="display:flex">\n          <div class="menuDown" id="menuDown" style="display: '+(s.processid?"":"none")+';">\n            <i class="fa fa-angle-down"></i>\n            <ul class="menuList" style="display: none;">\n              <li class="delAssist">\n                <i class="fa fa-trash-o"></i>\n                <span>删除</span>\n              </li>\n            </ul>\n          </div>\n          <span class="delDialog">×</span>\n        </div>\n      </div>\n      <div class="defect-section">\n        <div class="defect-form">\n            <div class="form-content">\n              <div class="assist-row">\n                <div class="row-title"><span>工作日期</span><sup>*</sup></div>\n                <div class="row-time"><input type="text" placeholder="工作日期" class="assist-time" value="'+(s.workdate?s.workdate.replace(/^(\d{4})(\d{2})(\d{2})(\d{0,2})(\d{0,2})(\d{0,2})/,"$1-$2-$3"):"")+'"></div>\n              </div>\n              <div class="assist-row">\n                <div class="row-title"><span>工作时长</span><sup>*</sup></div>\n                <div id="assist-hour"></div>\n              </div>\n              <div class="assist-row">\n                <input label="图片" id="assist-image" file-count="5" value="'+(s.pic||"")+'" group-type="4" class="input-rule-group input-rule-file-image" need-addon="true" placeholder="图片"> \n              </div>\n              <div class="assist-row">\n                <textarea label="备注" id="assist-remark" value="'+(s.remark||"")+'" group-type="4" class="input-rule-group" placeholder="备注" cannull="true"></textarea>\n              </div>\n            </div>\n        </div>\n      </div>\n      <div class="defect-footer">\n        <span class="btn-default" id="delDialog">取消</span>\n        <span class="btn-default btn-preserve addAssistBtn" data-bugid="'+s.bugid+'" data-processid='+(s.processid||"")+">保存</span>\n      </div>\n    </div>\n  </div>");i.find("#assist-hour").slider({max:24,value:s.workhour||0,slide:function(e,t){e.currentTarget,$(e.currentTarget).find(".ui-slider-handle").html(t.value)}}).slider("pips",{rest:"label",prefix:"",suffix:"",step:4}),i.find("#assist-hour").find(".ui-slider-handle").html(i.find("#assist-hour").slider("value")),i.find(".delDialog, #delDialog").click(function(){"取消"==$(this).text()?$(this).parent().parent().parent().remove():$(this).parent().parent().parent().parent().remove()}),i.find("#menuDown > i").click(function(e){e.stopPropagation(),$(this).siblings().toggle()}),i.find(".delAssist").click(function(){var e=$(this).parent().parent().parent().parent().parent().parent();t({processid:s.processid}),e.remove(),l({bugid:s.bugid},s.dialog)});i.find(".assist-time").datetimepicker({lang:"ch",step:60,datepicker:!0,timepicker:!1,format:"Y-m-d"}),i.find(".addAssistBtn").click(function(){var e=$(this).parent().parent().parent(),t=s.dialog,i=$(this).attr("data-processid"),n={remark:e.find("#assist-remark").val(),workhour:e.find("#assist-hour").slider("value"),workdate:e.find(".assist-time").val(),pic:e.find("#assist-image").val()};i?n.processid=i:n.bugid=$(this).attr("data-bugid"),n.workdate?n.workhour?(a(n),l({bugid:$(this).attr("data-bugid")},t),e.remove()):coos.box.info("工作时间不能为零"):coos.box.info("工作时间不能为空")}),$("body").append(i),coos.element.init(".defect-dialog")}},{"./api.js":1,"./assistList.js":3}],3:[function(require,module,exports){"use strict";module.exports=function(e,t){var i=require("./api.js").assistQueryList,n="";i(e).result.model1.value.forEach(function(e){n+='<div class="assist-item" data-assistid="'+e.processid+'">\n    <div class="assist-item-left">\n      <span>'+e.username+"</span>\n      <span>"+(e.workdate?e.workdate.replace(/^(\d{4})(\d{2})(\d{2})(\d{0,2})(\d{0,2})(\d{0,2})/,"$1-$2-$3"):"")+"</span>\n      <span>"+e.workhour+'小时</span>\n    </div>\n    <div class="assist-item-right">\n      <i class="fa fa-chevron-right"></i>\n    </div>\n  </div>'}),t.find(".assist-list").html(n)}},{"./api.js":1}],4:[function(require,module,exports){"use strict";module.exports={needList:[],bugStatus:{},bugLevel:{},bugSource:{},myState:{"全部":0,"待修复":0,"待验证":0,"验证完成":0,"拒绝":0},qualityLevel:{},priorityLevel:{}}},{}],5:[function(require,module,exports){"use strict";module.exports=function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=require("./select.js"),n=require("./assist.js"),s=require("./getneedList.js"),t=require("./search.js"),a=require("./data.js"),l=require("./api.js"),o=l.getUserList,d=l.bugDelete,r=l.bugEditSave,c=l.bugAddSave,u=l.assistQueryOne,v=require("./getlist.js"),p=require("./assistList.js"),f=$('\n  <div class="defect-dialog">\n    <div class="defect-content">\n      <div class="defect-title">\n        <div class="need-select input-search">\n          <div class="getNeed input" contenteditable="'+(i.addDefect?"true":"false")+'" name="'+(i.needid||"")+'">'+(i.task_need_title||"需求搜索并选择")+'</div>\n          <ul class="needList" style="display:none">\n            <li value="" class="active">任务合一之后的统计修改</li>\n          </ul>\n        </div>\n        <div style="display:flex">\n          <div class="menuDown" id="menuDown" style="display: '+(i.addDefect?"none":"")+';">\n            <i class="fa fa-angle-down"></i>\n            <ul class="menuList" style="display: none;">\n              <li class="delDefect">\n                <i class="fa fa-trash-o"></i>\n                <span>删除到回收站</span>\n              </li>\n            </ul>\n          </div>\n          <span class="delDialog deleteDialog">×</span>\n        </div>\n      </div>\n      <div class="defect-section">\n        <div class="defect-form">\n          <div class="form-title">\n            <div class="" contenteditable="true" data-bugid="'+(i.bugid||"")+'">'+(i.title||"请填写缺陷标题")+'</div>\n          </div>\n          <div class="form-message">\n            <div class="defectStatus">\n              <span value="'+(i.bugstatus||"")+'" index="'+(i.bugstatus||"")+'">'+(i.bugstatus?a.bugStatus[i.bugstatus]:"请选择")+'</span>\n              <i class="fa fa-angle-down"></i>\n              <ul class="defectStatusList select-chaozuo" style="display: none;">\n              '+function(){var e="";for(var t in a.bugStatus)e+='<li value="'+t+'" class="'+(i.bugstatus==t?"active":"")+'">'+a.bugStatus[t]+"</li>";return e}()+'\n              </ul>\n            </div>\n            <div class="form-ascription input-search">\n              <input type="text" id="ascription" placeholder="归属人" value="'+(i.ownusername||"")+'" name="'+(i.ownuserid||"")+'" class="input">\n              <ul class="ascriptionList" style="display:none">\n              </ul>\n            </div>\n            <div class="form-time">\n              <i class="fa fa-calendar"></i>\n              <input type="text" class="endTime" placeholder="计划完成时间" value="'+(i.plancompletetime?i.plancompletetime.replace(/^(\d{4})(\d{2})(\d{2})(\d{0,2})(\d{0,2})(\d{0,2})/,"$1-$2-$3 $4:$5"):"")+'">\n            </div>\n          </div>\n        <div class="form-illustrate">\n          <div class="illustrate-row">\n            <div>缺陷质级</div>\n              <div>\n                <div class="qualitylevel select-group">\n                  <span title="'+(i.qualitylevel?a.qualityLevel[i.qualitylevel].description:"")+'" value="'+(i.qualitylevel||"")+'" index="'+(i.qualitylevel||"")+'">'+(i.qualitylevel?a.qualityLevel[i.qualitylevel].name:"请选择")+'</span>\n                  <i class="fa fa-angle-down"></i>\n                  <ul class="selectList select-chaozuo" style="display: none;width:550px;">\n                  '+function(){var e="";for(var t in a.qualityLevel)e+='<li value="'+a.qualityLevel[t].value+'" style="text-align:left;padding: 0px 5px;" class="'+(t==i.buglevel?"active":"")+'">'+a.qualityLevel[t].name+'<span style="">('+a.qualityLevel[t].description+")</span></li>";return e}()+'\n                  </ul>\n                </div>\n            </div>\n        </div>\n          <div class="illustrate-row">\n           <div>缺陷优级</div>\n          <div>\n            <div class="prioritylevel select-group">\n              <span title="'+(i.prioritylevel?a.priorityLevel[i.prioritylevel].description:"")+'" value="'+(i.prioritylevel||"")+'" index="'+(i.prioritylevel||"")+'">'+(i.prioritylevel?a.priorityLevel[i.prioritylevel].name:"请选择")+'</span>\n              <i class="fa fa-angle-down"></i>\n              <ul class="selectList select-chaozuo" style="display: none;width:550px;">\n              '+function(){var e="";for(var t in a.priorityLevel)e+='<li style="text-align:left;padding: 0px 5px;" value="'+a.priorityLevel[t].value+'" class="'+(t==i.prioritylevel?"active":"")+'">'+a.priorityLevel[t].name+'<span style="">('+a.priorityLevel[t].description+")</span></li>";return e}()+'\n              </ul>\n            </div>\n          </div>\n        </div>\n            \x3c!--<div class="illustrate-row">\n              <div>缺陷等级</div>\n              <div>\n                <div class="buglevel select-group">\n                  <span value="'+(i.buglevel||"")+'" index="'+(i.buglevel||"")+'">'+(i.buglevel?a.bugLevel[i.buglevel]:"请选择")+'</span>\n                  <i class="fa fa-angle-down"></i>\n                  <ul class="selectList select-chaozuo" style="display: none;">\n                    '+function(){var e="";for(var t in a.bugLevel)e+='<li value="'+t+'" class="'+(t==i.buglevel?"active":"")+'">'+a.bugLevel[t]+"</li>";return e}()+'\n                  </ul>\n                </div>\n              </div>\n            </div>--\x3e\n            <div class="illustrate-row">\n              <div>缺陷来源</div>\n              <div>\n                  <div class="bugsource select-group">\n                    <span value="'+(i.bugsource||"")+'" index="'+(i.bugsource||"")+'">'+(i.bugsource?a.bugSource[i.bugsource]:"请选择")+'</span>\n                    <i class="fa fa-angle-down"></i>\n                    <ul class="selectList select-chaozuo" style="display: none;">\n                    '+function(){var e="";for(var t in a.bugSource)e+='<li value="'+t+'" class="'+(t==i.bugsource?"active":"")+'">'+a.bugSource[t]+"</li>";return e}()+'\n                    </ul>\n                  </div>\n              </div>\n            </div>\n            <div class="delFloat">\n              <input label="图片" id="defect-image" value="'+(i.pic||"")+'" file-count="5" group-type="1" class="input-rule-group input-rule-file-image" need-addon="true" placeholder="图片"> \n            </div>\n            <div class="delFloat">\n              <input label="文件" id="defect-file" group-type="1" value="'+(i.file||"")+'" class="input-rule-group input-rule-file" need-addon="true" placeholder="文件" file-count="5" cannull="true">\n            </div>\n            <div class="illustrate-row">\n              <div style="margin-right: 60px;">描述</div>\n              <textarea class="illustrate-font" id="defect-editor">'+(i.content||"")+'</textarea>\n            </div>\n          </div>\n          <div class="form-assist" style="display: '+(i.addDefect?"none":"")+';">\n            <div class="assist-title">\n              <i class="fa fa-list"></i>\n              <span>协助列表</span>\n            </div>\n            <div class="assist-list">\n            </div>\n            <div class="assist-add">\n              <i class="fa fa-plus-circle"></i>\n              <span>协助</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="defect-footer">\n        <span class="btn-default deleteDialog">取消</span>\n        <span class="btn-default btn-preserve '+(i.addDefect?"addDefectBtn":"preserveDialog")+'">保存</span>\n      </div>\n    </div>\n  </div>\n  ');e.init([".defectStatus",".select-group"],f),f.find(".assist-add").click(function(){var e=$(this).parent().parent().parent().parent().parent(),t={bugid:e.find(".form-title>div").attr("data-bugid"),dialog:e};n(t)}),f.find(".getNeed").on("keydown ",function(e){if(13===e.keyCode){e.preventDefault(),console.log($(this).text()),s({title:$(this).text()});var t="";a.needList.forEach(function(e){t+='<li name="'+e.needid+'">'+e.title+"</li>"}),$(this).siblings().html(t),$(this).siblings().show()}}),f.find("#ascription").on("input",function(){var e=o({username:$(this).val()}),t="";e.data.result.forEach(function(e){t+=' <li name="'+e.userid+'">'+e.username+"</li>"}),$(this).siblings().html(t),$(this).siblings().show()}),t.init(f);f.find(".endTime").datetimepicker({lang:"ch",step:60,datepicker:!0,timepicker:!0,format:"Y-m-d H:i"}),f.find("#menuDown > i").click(function(e){e.stopPropagation(),$(this).siblings().toggle()}),f.find(".deleteDialog").click(function(){"取消"==$(this).text()?$(this).parent().parent().parent().remove():$(this).parent().parent().parent().parent().remove()}),f.find(".delDefect").click(function(){var e=$(this).parent().parent().parent().parent().parent().parent();d({bugid:e.find(".form-title > div").attr("data-bugid")}),e.remove(),v()}),f.find(".form-title>div").blur(function(){$(this).text()||$(this).text("请填写缺陷标题")}),f.find(".form-title>div").focus(function(){"请填写缺陷标题"===$(this).text()&&$(this).text("")}),f.find(".getNeed").blur(function(){$(this).text()||$(this).text("需求搜索并选择")}),f.find(".getNeed").focus(function(){"需求搜索并选择"===$(this).text()&&$(this).text("")}),f.find(".preserveDialog").click(function(){var e=$(this).parent().parent().parent(),t={bugid:e.find(".form-title>div").attr("data-bugid"),title:e.find(".form-title>div").text(),bugstatus:e.find(".defectStatus > span").attr("value"),qualitylevel:e.find(".qualitylevel > span").attr("value"),prioritylevel:e.find(".prioritylevel > span").attr("value"),bugsource:e.find(".bugsource > span").attr("value"),pic:e.find("#defect-image").val(),file:e.find("#defect-file").val(),content:e.data("editor").getData(),plancompletetime:e.find(".endTime").val(),ownuserid:e.find("#ascription").attr("name")};if(""!=t.qualitylevel)if(""!=t.prioritylevel)if("请填写缺陷标题"!=t.title)if("请填写缺陷标题"!=t.title)if(""!=t.ownuserid)if(""!=t.plancompletetime)if(""!=t.bugstatus)if(""!=t.bugsource){""!=t.content&&/[^(<p>(( )*&nbsp;)+<\/p>)]/gi.test(t.content)?"成功"==r(t).data.errmsg&&(e.remove(),v()):coos.box.info("缺陷描述不能为空")}else coos.box.info("缺陷来源未选择");else coos.box.info("缺陷状态未选择");else coos.box.info("计划完成时间不能为空");else coos.box.info("缺陷归属人不能为空");else coos.box.info("缺陷标题不能为空");else coos.box.info("缺陷标题不能为空");else coos.box.info("缺陷优先级未选择");else coos.box.info("缺陷质级未选择")}),f.find(".addDefectBtn").click(function(){var e=$(this).parent().parent().parent(),t={needid:e.find(".getNeed").attr("name"),title:e.find(".form-title > div").text(),ownuserid:e.find("#ascription").attr("name"),bugstatus:e.find(".defectStatus > span").attr("value"),qualitylevel:e.find(".qualitylevel > span").attr("value"),prioritylevel:e.find(".prioritylevel > span").attr("value"),bugsource:e.find(".bugsource > span").attr("value"),plancompletetime:e.find(".endTime").val(),pic:e.find("#defect-image").val(),file:e.find("#defect-file").val(),content:e.data("editor").getData()};if(""!=t.qualitylevel)if(""!=t.prioritylevel)if("请填写缺陷标题"!=t.title)if(""!=t.ownuserid)if(""!=t.plancompletetime)if(""!=t.bugstatus)if(""!=t.bugsource){""!=t.content&&/[^(<p>(( )*&nbsp;)+<\/p>)]/gi.test(t.content)?"成功"==c(t).data.errmsg&&(e.remove(),v()):coos.box.info("缺陷描述不能为空")}else coos.box.info("缺陷来源未选择");else coos.box.info("缺陷状态未选择");else coos.box.info("计划完成时间不能为空");else coos.box.info("缺陷归属人不能为空");else coos.box.info("缺陷标题不能为空");else coos.box.info("缺陷优先级未选择");else coos.box.info("缺陷质级未选择")}),ClassicEditor.create(f.find("#defect-editor")[0],{toolbar:["bold","italic","link","bulletedList","numberedList","blockQuote","undo","redo"],language:"zh-cn"}).then(function(e){f.data("editor",e)}).catch(function(e){console.error(e)}),p({bugid:i.bugid},f),f.find(".assist-list").on("click",".assist-item",function(){var e=u({processid:$(this).attr("data-assistid")}).result.model1.value;e.dialog=$(this).parent().parent().parent().parent().parent().parent(),n(e)}),$("body").append(f),coos.element.init(".defect-dialog")}},{"./api.js":1,"./assist.js":2,"./assistList.js":3,"./data.js":4,"./getlist.js":6,"./getneedList.js":7,"./search.js":12,"./select.js":13}],6:[function(require,module,exports){"use strict";module.exports=function(){var e=require("./api.js").getlist,t=require("./listGroup.js"),i=require("./data.js");if($(".defect-manage .nav li.active a").text()){var n={bugstatus:"",my:i.myState[$(".defect-manage .nav li.active a").text()]};switch($(".defect-manage .nav li.active a").text()){case"待修复":n.bugstatus="0";break;case"待验证":n.bugstatus="1";break;case"验证完成":n.bugstatus="2";break;case"拒绝":n.bugstatus="3";break;default:n.bugstatus=""}t(e(n),$(".defect-manage .nav li.active a").text())}}},{"./api.js":1,"./data.js":4,"./listGroup.js":9}],7:[function(require,module,exports){"use strict";module.exports=function(e){var t=require("./api.js").queryVersionList,i=require("./data.js");i.needList=t(e).result.data.value,console.log(i.needList)}},{"./api.js":1,"./data.js":4}],8:[function(require,module,exports){"use strict";module.exports=function e(){var s=[];$(".list-group > li").css("width","calc("+100/3+"% - 20px)"),$(".interior-item").css("width","100%");for(var a=$(".list-group>li").outerWidth(!0),t=0;t<3;t++)s.push(0);$(".list-group>li").each(function(){for(var e=$(this),t=0,i=s[0],n=0;n<s.length;n++)i>s[n]&&(i=s[n],t=n);e.css({left:a*t,top:i}),s[t]=s[t]+e.outerHeight(!0)});var i=0;for(t=0;t<s.length;t++)i<s[t]&&(i=s[t]);$(".list-group").css({height:i+"px"}),$(window).off("resize").on("resize",function(){e()})}},{}],9:[function(require,module,exports){"use strict";module.exports=function(e,t){var i=require("./dialog.js"),n=require("./layout.js"),s=require("./api.js").queryOne,a="";e.data.result.needs.forEach(function(e){a+='\n  <li>\n    <div class="list-group-item" id="'+e.needid+'">\n      <div class="item-title">\n        <div>\n          <div class="title-font">'+e.needtitle+'</div>\n          <span class="item-state">'+t+'</span>\n        </div>\n        <div class="dropdown-defect">\n          <i class="fa fa-chevron-down dropDown" style=""></i>\n          <ul class="dropdown-menu dropdown-menu-right dropDownBox" style="display: none;">\n            <li>\n              <a href="#" class="addDefect"><i class="fa fa-pencil"></i>添加缺陷</a>\n            </li>\n            <li style="display: '+(e.needid?"":"none")+';">\n              <a target="_blank" href="'+coos.basePath+"task/need/toView.do?&amp;needid="+e.needid+'"><i class="fa fa-eye"></i>查看需求</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <div class="interior-list">',e.bugs.forEach(function(e){a+='\n          <div class="interior-item" style="width: 100%;" id="'+e.bugid+'">\n            <div class="interior-title">\n              <span>'+e.title+'</span>\n              <div>\n                <span class="">'+(e.workhour||0)+'小时</span>\n              </div>\n            </div>\n            <div class="interior-state">\n              <span>'+e.username+'</span>\n            </div>\n            <div class="interior-time">\n              <span>'+(e.plancompletetime?e.plancompletetime.replace(/^(\d{4})(\d{2})(\d{2})(\d{0,2})(\d{0,2})(\d{0,2})/,"$1-$2-$3 $4:$5"):"")+"</span>\n            </div>\n          </div>\n        "})}),$(".list-group").html(a),$(".dropDown").click(function(e){e.stopPropagation(),$(".dropDownBox").hide(),$(this).siblings(".dropDownBox").toggle()}),$(".addDefect").click(function(){var e=$(this).parent().parent().parent().parent().parent(),t={needid:e.attr("id"),task_need_title:e.find(".item-title .title-font").text(),addDefect:!0};console.log(t),i(t)}),$(".interior-item").click(function(){var e=s({bugid:$(this).attr("id")});i(e.result.model1.value)}),n()}},{"./api.js":1,"./dialog.js":5,"./layout.js":8}],10:[function(require,module,exports){"use strict";module.exports=function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments[1];$(".defect-manage .nav li a").click(function(e){e.preventDefault(),$(".defect-manage .nav li").removeClass("active"),$(this).parent().addClass("active");var t=n.myState[$(this).text()];$(".condition-defect .condition-btn").removeClass("active"),$(".condition-defect .condition-btn span[value="+t+"]").parent().addClass("active"),i()}),$(".defect-manage .condition-all").click(function(){$(this).addClass("active"),$(".condition-defect .condition-my").removeClass("active");var e=$(this).find("span").attr("value");n.myState[$(".defect-manage .nav li.active a").text()]=e,i()}),$(".defect-manage .condition-my").click(function(){$(this).addClass("active"),$(".condition-defect .condition-all").removeClass("active");var e=$(this).find("span").attr("value");n.myState[$(".defect-manage .nav li.active a").text()]=e,i()})}},{}],11:[function(require,module,exports){"use strict";var e=require("./data.js"),t=require("./nav.js"),i=require("./getlist.js"),n=require("./api.js"),s=n.getBugStatusList,a=n.getBugLevelList,l=n.getBugSourceList,o=n.queryOne,d=n.getQualityLevel,r=n.getPriorityLevel,c=require("./dialog.js"),defect={defectInit:function(){this.bodyFn(),setTimeout(function(){i(),t(i,e)},500),$("body").click(function(){$(".select-chaozuo").hide()})},init:function(){try{e.bugStatus=s().data.result,e.bugLevel=a().data.result,e.bugSource=l().data.result,e.qualityLevel=d().result.model1.value,e.priorityLevel=r().result.model1.value}catch(e){console.log("未登录",e)}},bodyFn:function(){$("body").click(function(){$(".dropDownBox").hide()})},dialog:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={};t=e.bugid?o({bugid:e.bugid}).result.model1.value:{needid:e.needid||"",task_need_title:e.task_need_title||"",addDefect:!0},c(t)}};window.defect=defect},{"./api.js":1,"./data.js":4,"./dialog.js":5,"./getlist.js":6,"./nav.js":10}],12:[function(require,module,exports){"use strict";module.exports={index:-1,init:function(e){this.select(e),this.click(e)},select:function(e){var i=this;e.find(".input").keydown(function(e){var t=$(this).parent().parent().find(".input-search li");38==e.keyCode&&(i.index<0?i.index=t.length-1:i.index--,t.removeClass("active"),t.eq(i.index).addClass("active")),40==e.keyCode&&(i.index>t.length-1?i.index=0:i.index++,t.removeClass("active"),t.eq(i.index).addClass("active")),13==e.keyCode&&(console.log(e.target.id),t.eq(i.index).click())})},click:function(e){var t=this;e.find(".input-search ul").on("mouseover","li",function(){$(this).siblings().removeClass("active"),$(this).addClass("active"),t.index=$(this).index()}),e.find(".input-search ul").on("click","li",function(e){e.stopPropagation(),$(this).parent().parent().find(".input").attr({name:$(this).attr("name"),value:$(this).text()}),$(this).parent().parent().find(".input").val($(this).text()),$(this).parent().parent().find(".input").text($(this).text()),$(".input-search ul").hide()})}}},{}],13:[function(require,module,exports){"use strict";module.exports={dom:"",index:0,init:function(e,t){var i=this;e.forEach(function(e){i.listShow(t.find(e)),i.liClick(t.find(e).find("li"))}),this.getkeyup()},listShow:function(e){var i=this;e.click(function(e){if(e.stopPropagation(),"none"!==$(this).find(".select-chaozuo").css("display"))$(".select-chaozuo").hide(),i.dom="";else{$(".select-chaozuo").hide(),$(this).find(".select-chaozuo").toggle(),i.dom=this,$(i.dom).find("li").removeClass("active");var t=parseInt($(i.dom).find("span").attr("index"));i.index=t,$(i.dom).find("li").eq(i.index).addClass("active")}}),e.find("li").mouseover(function(){$(this).siblings().removeClass("active"),$(this).addClass("active"),i.index=$(this).index()})},liClick:function(e){var t=this;e.click(function(e){e.stopPropagation(),t.index=$(this).index(),$(this).parent().parent().find("span").attr({value:$(this).attr("value"),index:$(this).index()}),$(this).parent().parent().find("span").text($(this).text()),$(this).parent().hide()})},getkeyup:function(){var i=this;$(document).keydown(function(e){var t=$(i.dom).find("li");return 38==e.keyCode?(i.index<0?i.index=t.length-1:i.index--,t.removeClass("active"),t.eq(i.index).addClass("active"),!1):40==e.keyCode?(i.index>t.length-1?i.index=0:i.index++,t.removeClass("active"),t.eq(i.index).addClass("active"),!1):void(13==e.keyCode&&"active"==t.eq(i.index).attr("class")&&"personLiable"!=e.target.id&&t.eq(i.index).click())})}}},{}],14:[function(require,module,exports){"use strict";module.exports={baseURL:coos.basePath,POST:function(e,t,i,n,s,a){var l=this.baseURL+e;n=n||!1,(n="true")&&(n=!0),(n="false")&&(n=!1),a=a||"json",$.ajax({url:l,data:t,type:"post",dataType:a,async:n,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},beforeSend:function(){},success:function(e){i&&"function"==typeof i&&i(e)},complete:function(e,t){},error:function(e,t,i){s&&"function"==typeof s&&s(e,t,i)}})}}},{}]},{},[11]);
//# sourceMappingURL=newbug.js.map
